; Ref: 
;   ISAAC: A Convolutional Neural Network Accelerator with In-Situ Analog Arithmetic in Crossbars
;   https://www.cs.utah.edu/~rajeev/pubs/isca16.pdf
[general]
Router_num_y = 2
Router_num_x = 2
; c-mesh fixed
PE_num_y = 2
PE_num_x = 2
CU_num_y = 1
CU_num_x = 1
Xbar_num_y = 1
Xbar_num_x = 1

; eDRAM_buffer_size: n KB
eDRAM_buffer_size = 64
eDRAM_buffer_bank_num = 2
; eDRAM_buffer_bus_width: n bits
eDRAM_buffer_bus_width = 256
; OR: nKB
Output_Reg_size = 3

bits_per_cell = 1
DAC_resolution = 1
SA_resolution = 3
SA_num = 2
OU_h = 2
;OU_w = SA_num
Xbar_h = 2
Xbar_w = 2
; IR, OR: nKB
CU_Input_Reg_size = 2
CU_Output_Reg_size = 256

;eDRAM_buffer_rd_per_cycle = Xbar_h * Xbar_num_y * Xbar_num_x
CU_Shift_and_add_per_cycle = 4
PE_Shift_and_add_per_cycle = 4

; 取決於component的latency, 目前沒資料先設定成超多
Activation_per_cycle = 100
Pooling_per_cycle = 100

[leakage]
eDRAM_buffer_leakage = 4.769634e-03
Router_leakage = 8.20344e-04
Act_leakage = 7.8128e-06
PE_SAA_leakage = 9.766e-07
Pool_leakage = 9.776e-06

DAC_leakage = 7.58832e-05
MUX_leakage = 4.51096e-06
SA_leakage = 3.32896e-05
Crossbar_leakage = 2.1736e-05
CU_SAA_leakage = 3.9064e-06

[dynamic_energy]
; J
eDRAM_rd_ir_energy = 1.8868032e-09
edram_rd_pool_energy = 1.59583e-09
ou_operation_energy = 1.0782574e-10
pe_saa_energy = 7.3054125e-12
cu_saa_energy = 2.922165e-11
activation_energy = 5.84433e-11
pooling_energy = 7.3054125e-11
edram_wr_energy = 1.59583e-09

; mW
eDRAM_to_CU_bus_power = 7
Router_power = 42
; number: 2
Activation_power = 0.52
Shift_and_add_power = 0.05 
Pooling_power  = 0.4
Output_Reg_power = 1.68

; resolution: 1 number= Xbar_num * Xbar_w
DAC_power = 4
; pJ
SA_power = 37.28
; pJ
OU_power = 3.34

